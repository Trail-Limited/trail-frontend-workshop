import { ReactNode } from 'react';
import { useId } from 'react-aria';
import tw, { css, styled, TwStyle } from 'twin.macro';
import { BaseProps } from '../../../types/baseProps';

type IconSizes = 'sm' | 'md';

export type FileIconProps = {
  size?: IconSizes;
  isStandalone?: boolean;
  showPadding?: boolean;
} & BaseProps;

type FileIconBaseProps = {
  size?: IconSizes;
  isStandalone?: boolean;
  title: string;
  svgSource: ReactNode;
  showPadding?: boolean;
} & BaseProps;

type StyledSvgProps = {
  size: IconSizes;
  showPadding?: boolean;
};

const StyledSvg = styled.svg<StyledSvgProps>`
  ${({ size }) => {
    switch (size) {
      case 'sm':
        return tw`h-3.5`;
      case 'md':
        return tw`h-[1.125rem]`;
    }
  }};

  ${({ showPadding, size }) => {
    if (!showPadding) return;

    switch (size) {
      case 'sm':
        return tw`px-1 box-content`;
      case 'md':
        return tw`p-1 box-content`;
    }
  }};
`;

const FileIconBase = ({
  size = 'md',
  isStandalone = false,
  svgSource,
  title,
  showPadding = true,
  className,
}: FileIconBaseProps) => {
  const titleId = useId();
  const displayedTitle = isStandalone ? title : undefined;

  return (
    <StyledSvg
      showPadding={showPadding}
      fill="none"
      viewBox="0 0 14 18"
      aria-hidden={!isStandalone}
      role="img"
      aria-labelledby={titleId}
      size={size}
      className={className}
    >
      {isStandalone ? <title id={titleId}>{displayedTitle}</title> : null}
      {svgSource}
    </StyledSvg>
  );
};

export const TdsFileIcon = ({
  isStandalone = false,
  size = 'md',
  showPadding = true,
}: FileIconProps) => <></>; // For Storybook codegen

export const TdsFileIconGeneric = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#1F456E"
        />
      </>
    }
    title="Generic file"
  />
);

export const TdsFileIconPdf = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#BE123C"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.938 11.813H.562v-.957h12.376v.957Z"
          fill="#1F456E"
        />
        <path
          d="M2.202 16.031v-3.15h1.364c.282 0 .525.047.729.14.204.09.361.22.472.391a1.1 1.1 0 0 1 .167.612c0 .234-.056.437-.167.608a1.082 1.082 0 0 1-.472.396c-.204.09-.447.135-.73.135h-.958l.324-.329v1.197h-.729Zm.729-1.116-.324-.346h.918c.225 0 .393-.048.504-.144a.501.501 0 0 0 .167-.4.507.507 0 0 0-.167-.406c-.111-.096-.279-.144-.504-.144h-.918l.324-.346v1.786ZM5.454 16.031v-3.15h1.431c.342 0 .643.066.904.198.261.13.465.31.612.545.147.234.221.511.221.832 0 .318-.074.596-.22.833a1.51 1.51 0 0 1-.613.549 2.016 2.016 0 0 1-.904.193H5.454Zm.729-.598h.666c.21 0 .391-.04.544-.117a.862.862 0 0 0 .36-.342.997.997 0 0 0 .131-.518.982.982 0 0 0-.13-.517.834.834 0 0 0-.36-.338 1.149 1.149 0 0 0-.545-.121h-.666v1.953ZM9.847 14.299h1.512v.585H9.847v-.585ZM9.9 16.03h-.73v-3.15h2.381v.585H9.901v2.565Z"
          fill="#fff"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#1F456E"
        />
      </>
    }
    title="Pdf file"
  />
);

export const TdsFileIconDoc = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#2197EF"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.938 11.813H.562v-.957h12.376v.957Z"
          fill="#1F456E"
        />
        <path
          d="M1.716 16.032v-3.15h1.431c.342 0 .644.066.905.198.26.129.465.31.612.544.147.234.22.512.22.833 0 .318-.073.595-.22.832a1.51 1.51 0 0 1-.612.55 2.016 2.016 0 0 1-.905.193h-1.43Zm.73-.599h.665c.21 0 .392-.039.545-.117a.862.862 0 0 0 .36-.342.997.997 0 0 0 .13-.517.982.982 0 0 0-.13-.518.834.834 0 0 0-.36-.337 1.149 1.149 0 0 0-.545-.122h-.666v1.953ZM6.964 16.086c-.249 0-.48-.04-.693-.122a1.665 1.665 0 0 1-.549-.342 1.606 1.606 0 0 1-.36-.517 1.642 1.642 0 0 1-.126-.648c0-.234.042-.45.126-.648.087-.198.209-.37.365-.518.156-.147.339-.26.549-.342.21-.08.438-.121.684-.121.249 0 .477.04.684.121a1.614 1.614 0 0 1 .909.86c.087.195.13.41.13.648a1.573 1.573 0 0 1-.495 1.17 1.652 1.652 0 0 1-.544.337 1.849 1.849 0 0 1-.68.122Zm-.004-.621c.14 0 .27-.024.387-.072a.928.928 0 0 0 .522-.527 1.06 1.06 0 0 0 .076-.41c0-.15-.025-.286-.076-.409a.918.918 0 0 0-.518-.526 1.045 1.045 0 0 0-.391-.072c-.141 0-.272.024-.392.072a.94.94 0 0 0-.31.207.974.974 0 0 0-.284.729c0 .147.024.283.072.41a.928.928 0 0 0 .522.527c.12.047.25.07.392.07ZM10.739 16.086c-.244 0-.47-.04-.68-.117a1.606 1.606 0 0 1-.9-.86 1.654 1.654 0 0 1-.126-.652c0-.237.042-.455.126-.653.087-.198.207-.37.36-.517.156-.147.337-.26.544-.338.207-.08.434-.121.68-.121.273 0 .519.048.738.144.222.093.408.23.558.414l-.468.432a1.068 1.068 0 0 0-.36-.275 1.105 1.105 0 0 0-.837-.023.918.918 0 0 0-.32.208.973.973 0 0 0-.283.729c0 .15.024.286.072.41.051.122.121.229.212.319.09.09.196.159.319.207.123.048.258.072.405.072.156 0 .3-.03.432-.09.132-.063.252-.158.36-.284l.468.432c-.15.183-.336.323-.558.419a1.832 1.832 0 0 1-.742.144Z"
          fill="#fff"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#456588"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#456588"
        />
      </>
    }
    title="Document file"
  />
);

export const TdsFileIconXls = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#0B9F8E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.938 11.813H.562v-.957h12.376v.957Z"
          fill="#1F456E"
        />
        <path
          d="m2.421 16.032 1.355-1.868v.531L2.48 12.882h.828l.895 1.264-.346.005.882-1.27h.792l-1.287 1.783v-.522l1.363 1.89h-.841l-.927-1.337h.333l-.914 1.337h-.837ZM5.892 16.032v-3.15h.73v2.556H8.2v.594H5.892ZM9.63 16.086c-.252 0-.494-.033-.725-.1a1.726 1.726 0 0 1-.558-.265l.248-.549a1.822 1.822 0 0 0 1.04.329c.143 0 .259-.014.346-.04.09-.03.156-.071.198-.122a.268.268 0 0 0 .063-.176.231.231 0 0 0-.099-.198.754.754 0 0 0-.261-.121 3.938 3.938 0 0 0-.36-.09 5.106 5.106 0 0 1-.392-.108 1.67 1.67 0 0 1-.355-.162.817.817 0 0 1-.266-.261.783.783 0 0 1-.099-.414c0-.18.048-.344.144-.49a.997.997 0 0 1 .441-.356c.198-.09.446-.135.743-.135.198 0 .393.024.585.072.192.045.361.114.508.207l-.224.553a1.841 1.841 0 0 0-.874-.247c-.14 0-.256.016-.346.05a.4.4 0 0 0-.194.13.288.288 0 0 0-.058.18c0 .08.033.147.099.198a.813.813 0 0 0 .261.117c.108.03.226.06.355.09.132.03.263.064.392.103.132.04.252.092.36.158a.747.747 0 0 1 .364.67c0 .177-.049.34-.148.486a1.036 1.036 0 0 1-.445.356c-.195.09-.443.135-.743.135Z"
          fill="#fff"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#1F456E"
        />
      </>
    }
    title="XLS file"
  />
);

export const TdsFileIconZip = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#456588"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.938 11.813H.562v-.957h12.376v.957Z"
          fill="#1F456E"
        />
        <path
          d="M3.025 16.031v-.472l1.949-2.35.09.266H3.06v-.594h2.65v.473l-1.943 2.349-.09-.266h2.101v.594H3.025ZM6.247 16.031v-3.15h.729v3.15h-.73ZM7.723 16.031v-3.15h1.364c.282 0 .525.047.729.14.204.09.361.22.472.391a1.1 1.1 0 0 1 .167.612c0 .234-.056.437-.167.608a1.082 1.082 0 0 1-.472.396c-.204.09-.447.135-.73.135h-.958l.324-.329v1.197h-.729Zm.73-1.116-.325-.346h.918c.225 0 .393-.048.504-.144a.501.501 0 0 0 .167-.4.507.507 0 0 0-.167-.406c-.11-.096-.279-.144-.504-.144h-.918l.324-.346v1.786Z"
          fill="#fff"
        />
        <path
          d="M2.25 1.969h1.406v1.406H2.25V1.969ZM2.25 7.594h1.406V9H2.25V7.594ZM2.25 4.781h1.406v1.407H2.25V4.78ZM2.25 10.406h1.406v1.406H2.25v-1.406ZM3.656.563h1.406v1.406H3.657V.562ZM3.656 6.188h1.406v1.406H3.657V6.187ZM3.656 3.375h1.406v1.406H3.657V3.375ZM3.656 9h1.406v1.406H3.657V9Z"
          fill="#1F456E"
        />
      </>
    }
    title="Zip file"
  />
);

export const TdsFileIconImg = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="m10.219 6.188 2.437 2.671v2.954H4.22l6-5.626Z"
          fill="#0B9F8E"
        />
        <path d="M4.094 4.5.844 7.973v3.84h11.25l-8-7.313Z" fill="#19BBA8" />
        <path
          d="M9.844 4.219a1.969 1.969 0 1 1-3.938 0 1.969 1.969 0 0 1 3.938 0Z"
          fill="#FFB300"
        />
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#1F456E"
        />
        <path
          d="M2.5 16.031v-3.15h.73v3.15H2.5ZM3.977 16.031v-3.15h.603l1.341 2.223h-.32l1.32-2.223h.598l.009 3.15h-.684l-.005-2.101h.126l-1.053 1.768h-.328L4.508 13.93h.153v2.101h-.684ZM9.796 16.085c-.249 0-.478-.039-.688-.117a1.676 1.676 0 0 1-.545-.342 1.606 1.606 0 0 1-.36-.517 1.654 1.654 0 0 1-.126-.653c0-.237.042-.454.126-.652a1.573 1.573 0 0 1 .914-.855 1.91 1.91 0 0 1 .693-.122c.279 0 .53.047.751.14.225.093.414.228.567.405l-.468.432a1.113 1.113 0 0 0-.814-.356c-.153 0-.293.024-.419.072a.956.956 0 0 0-.328.207.974.974 0 0 0-.284.73c0 .146.024.281.072.404.051.123.122.231.212.324.093.09.2.16.324.207.126.048.264.072.414.072.144 0 .283-.022.418-.067.138-.048.272-.128.4-.239l.415.527c-.171.129-.37.228-.599.297-.225.069-.45.103-.675.103Zm.608-.495v-1.183h.666v1.278l-.666-.095Z"
          fill="#fff"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.375.956H1.125a.169.169 0 0 0-.169.169v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V1.125a.169.169 0 0 0-.169-.169ZM1.125 0C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V1.125C13.5.504 12.996 0 12.375 0H1.125Z"
          fill="#1F456E"
        />
      </>
    }
    title="Image file"
  />
);

export const TdsFileIconCsv = (props: FileIconProps) => (
  <FileIconBase
    {...props}
    svgSource={
      <>
        <path
          d="M0 11.25h13.5v5.625c0 .621-.504 1.125-1.125 1.125H1.125A1.125 1.125 0 0 1 0 16.875V11.25Z"
          fill="#0B9F8E"
        />
        <path
          d="M3.876 16.086c-.243 0-.47-.04-.68-.117a1.606 1.606 0 0 1-.9-.86 1.654 1.654 0 0 1-.126-.652c0-.237.042-.455.126-.653.087-.198.207-.37.36-.517.156-.147.338-.26.545-.338.207-.08.433-.121.679-.121.273 0 .519.048.738.144.222.093.408.23.558.414l-.468.432a1.068 1.068 0 0 0-.36-.275 1.105 1.105 0 0 0-.837-.023.918.918 0 0 0-.32.208.974.974 0 0 0-.283.729c0 .15.024.286.072.41.051.122.122.229.212.319s.196.159.319.207c.123.048.258.072.405.072.156 0 .3-.03.432-.09.132-.063.252-.158.36-.284l.468.432c-.15.183-.336.323-.558.419a1.832 1.832 0 0 1-.742.144ZM6.686 16.086c-.252 0-.494-.033-.725-.1a1.726 1.726 0 0 1-.558-.265l.248-.549a1.822 1.822 0 0 0 1.04.329c.143 0 .259-.014.346-.04.09-.03.156-.071.198-.122a.268.268 0 0 0 .063-.176.231.231 0 0 0-.1-.198.754.754 0 0 0-.26-.121 3.937 3.937 0 0 0-.36-.09 5.106 5.106 0 0 1-.392-.108 1.67 1.67 0 0 1-.355-.162.817.817 0 0 1-.266-.261.783.783 0 0 1-.099-.414c0-.18.048-.344.144-.49a.997.997 0 0 1 .441-.356c.198-.09.446-.135.743-.135.198 0 .393.024.585.072.192.045.361.114.508.207l-.225.553a1.841 1.841 0 0 0-.873-.247c-.14 0-.256.016-.346.05a.4.4 0 0 0-.194.13.288.288 0 0 0-.058.18c0 .08.033.147.099.198a.813.813 0 0 0 .26.117c.109.03.227.06.356.09.132.03.263.064.392.103.132.04.252.092.36.158a.747.747 0 0 1 .364.67c0 .177-.05.34-.148.486a1.036 1.036 0 0 1-.446.356c-.195.09-.442.135-.742.135ZM9.465 16.032l-1.359-3.15h.788l1.188 2.79h-.464l1.206-2.79h.725l-1.364 3.15h-.72Z"
          fill="#fff"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M12.938 11.813H.562v-.957h12.376v.957ZM6.272 5.625V.562h.956v5.063c0 .357.29.647.647.647h5.063v.956H7.875a1.603 1.603 0 0 1-1.603-1.603Z"
          fill="#1F456E"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M7.15.328A1.125 1.125 0 0 0 6.354 0h-5.23C.504 0 0 .504 0 1.125v15.75C0 17.496.504 18 1.125 18h11.25c.621 0 1.125-.504 1.125-1.125V7.12c0-.3-.12-.586-.331-.798L7.149.328Zm-6.194.797v15.75c0 .093.076.169.169.169h11.25a.169.169 0 0 0 .169-.169V7.12a.169.169 0 0 0-.05-.12l-6.02-5.995a.169.169 0 0 0-.119-.049h-5.23a.169.169 0 0 0-.169.169Z"
          fill="#1F456E"
        />
      </>
    }
    title="Image file"
  />
);
